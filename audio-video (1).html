<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>Video & Audio Recorder</title>
    <link rel="stylesheet" href="stylesam.css" />
    <style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  overflow: hidden;
}

.background-image-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  z-index: -2;
}

.background-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: brightness(0.9) blur(1px);
}

.overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    135deg,
    rgba(0, 0, 0, 0.6),
    rgba(0, 0, 0, 0.6)
  );
  z-index: -1;
}

.video-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  object-fit: cover;
  z-index: -1;
}

body {
  font-family: Arial, sans-serif;
  background-color: #f4f4f4;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
}

header {
  background-color: #0c1321;
  width: 100%;
  padding: 20px;
  color: #ffffff;
  text-align: center;
  box-shadow: 0 4px 6px #ffffff;
  animation: fadeInDown 1s ease-in-out;
  border-bottom: 2px solid #ffffff;
  filter: brightness(0.9) blur(1px);
}

h1 {
  margin: 0;
  font-size: 2.5em;
}

.container {
  background-color: rgba(234, 234, 234, 0.379);
  padding: 30px;
  border-radius: 15px;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
  max-width: 600px;
  width: 100%;
  text-align: center;
  animation: fadeInUp 1.2s ease-in-out;
}

.btn {
  border: 2px solid #ffffff;
  color: #ffffff;
  background-color: transparent;
  padding: 12px 25px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  border-radius: 25px;
  transition: all 0.3s ease;
}

.btn:hover {
  background-color: #0c1321;
  color: #ffffff;
  transform: scale(1.1);
}

.animated-btn {
  animation: pulse 2s infinite;
}

video {
  width: 100%;
  max-width: 500px;
  margin: 20px 0;
  border-radius: 10px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

footer {
  margin-top: 30px;
  color: #888;
  font-size: 0.9em;
}

footer a {
  color: #ffffff;
  text-decoration: none;
}

    </style>
  </head>
  <body>
    <div class="background-image-wrapper">
      <img
        src="C:/Users/sm091/Music/rajtalkstoomuch.jpg"
        class="background-image"
        alt="Background Image"
      /> / 
    </div>
    <div class="overlay"></div>
    <video
      class="video-background"
      autoplay
      muted
      loop
    >
      <source
        src="C:\Users\Raj Mathuria\Videos\Captures\127.0.0.1_50295 - Person 2 - Microsoftâ€‹ Edge 2024-07-30 14-19-23.mp4"
        type="video/mp4"
      />
      <!-- Ensure the path to your video file is correct -->
      Your browser does not support the video tag.
    </video>

    <header>
      <h1>Video & Audio Recorder</h1>
    </header>

    <div class="container">
      <h2>Record Video and Audio</h2>
      <p>
        Use the buttons below to start and stop
        recording.
      </p>

      <div>
        <button class="btn" id="startRecording">
          Start Recording
        </button>
        <button
          class="btn"
          id="stopRecording"
          style="display: none"
        >
          Stop Recording
        </button>
      </div>
      <video
        id="preview"
        autoplay
        muted
        controls
      ></video>
      <div id="status"></div>
    </div>

    <footer>
      <p>
        Powered by
        <a
          href="https://yourwebsite.com"
          target="_blank"
          >Your Website</a
        >
      </p>
    </footer>

    <script>
      let mediaRecorder;
      let recordedChunks = [];
      let stream;

      const startRecording =
        document.getElementById("startRecording");
      const stopRecording =
        document.getElementById("stopRecording");
      const preview =
        document.getElementById("preview");
      const status =
        document.getElementById("status");

      startRecording.onclick = async () => {
        try {
          stream =
            await navigator.mediaDevices.getUserMedia(
              { video: true, audio: true }
            );
          preview.srcObject = stream;

          mediaRecorder = new MediaRecorder(
            stream
          );

          mediaRecorder.ondataavailable = (
            event
          ) => {
            if (event.data.size > 0) {
              recordedChunks.push(event.data);
            }
          };

          mediaRecorder.onstop = () => {
            const blob = new Blob(
              recordedChunks,
              { type: "video/webm" }
            );
            recordedChunks = [];
            const videoURL =
              URL.createObjectURL(blob);
            preview.src = videoURL;
            preview.controls = true; // Add controls to the video element

            // Optionally, upload the video blob to a server here
            status.innerHTML = `<p>Recording saved!</p>`;
          };

          mediaRecorder.start();
          startRecording.style.display = "none";
          stopRecording.style.display =
            "inline-block";
          status.innerHTML = `<p>Recording...</p>`;
        } catch (error) {
          status.innerHTML = `<p>Error: ${error.message}</p>`;
        }
      };

      stopRecording.onclick = () => {
        if (
          mediaRecorder &&
          mediaRecorder.state !== "inactive"
        ) {
          mediaRecorder.stop();
        }
        if (stream) {
          stream
            .getTracks()
            .forEach((track) => track.stop()); // Stop all tracks to turn off the webcam
        }
        startRecording.style.display =
          "inline-block";
        stopRecording.style.display = "none";
        status.innerHTML = `<p>Stopped recording.</p>`;
      };
    </script>
  </body>
</html>
